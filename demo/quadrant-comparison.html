<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å››è±¡é™å›¾å®ç°æ–¹æ¡ˆå¯¹æ¯”</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'PingFang SC', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            color: #7f8c8d;
            font-size: 1.2em;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .method-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }

        .method-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .method-title {
            font-size: 1.5em;
            color: #2c3e50;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .method-description {
            color: #666;
            margin-bottom: 20px;
            font-size: 0.95em;
            line-height: 1.6;
        }

        /* æ–¹æ¡ˆ1: CSS Grid æ ·å¼ */
        .quadrant-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 2px;
            border: 2px solid #ddd;
            border-radius: 12px;
            overflow: hidden;
            min-height: 300px;
            position: relative;
        }

        .quadrant-grid::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: #ddd;
            z-index: 1;
        }

        .quadrant-grid::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #ddd;
            z-index: 1;
        }

        .quadrant {
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            border: 2px solid transparent;
        }

        .quadrant:hover {
            transform: scale(1.02);
        }

        .quadrant.active {
            border-color: #667eea;
            box-shadow: inset 0 0 20px rgba(102, 126, 234, 0.2);
        }

        .quadrant.active::before {
            content: 'â˜…';
            position: absolute;
            top: 8px;
            right: 12px;
            color: #667eea;
            font-size: 1.2em;
        }

        .quadrant-icon {
            font-size: 2em;
            margin-bottom: 8px;
        }

        .quadrant-title {
            font-size: 1.1em;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .quadrant-desc {
            font-size: 0.85em;
            color: #666;
            margin-bottom: 8px;
        }

        .quadrant-features {
            font-size: 0.75em;
            color: #888;
            line-height: 1.4;
        }

        /* è±¡é™ç‰¹å®šé¢œè‰² */
        .quadrant-secure { background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%); }
        .quadrant-anxious { background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%); }
        .quadrant-avoidant { background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%); }
        .quadrant-chaotic { background: linear-gradient(135deg, #e2d9f3 0%, #d1a3e0 100%); }

        /* æ–¹æ¡ˆ2: SVG æ ·å¼ */
        .quadrant-svg-container {
            width: 100%;
            height: 300px;
            border: 2px solid #ddd;
            border-radius: 12px;
            overflow: hidden;
        }

        .quadrant-svg {
            width: 100%;
            height: 100%;
        }

        .quadrant-label {
            font-size: 14px;
            font-weight: 600;
            fill: #2c3e50;
        }

        .axis-label {
            font-size: 12px;
            fill: #666;
        }

        /* æ–¹æ¡ˆ3: Canvas æ ·å¼ */
        .quadrant-canvas {
            width: 100%;
            height: 300px;
            border: 2px solid #ddd;
            border-radius: 12px;
            display: block;
        }

        /* æ–¹æ¡ˆ4: äº¤äº’å¼HTML æ ·å¼ */
        .interactive-quadrant {
            position: relative;
        }

        .quadrant-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 10px;
            min-height: 300px;
        }

        .quadrant-item {
            padding: 20px;
            border-radius: 12px;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .quadrant-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .quadrant-item.active {
            transform: scale(1.05);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.3);
        }

        .quadrant-item.secure { background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%); }
        .quadrant-item.anxious { background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%); }
        .quadrant-item.avoidant { background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%); }
        .quadrant-item.chaotic { background: linear-gradient(135deg, #e2d9f3 0%, #d1a3e0 100%); }

        .quadrant-content h4 {
            font-size: 1.2em;
            margin-bottom: 8px;
            color: #2c3e50;
        }

        .quadrant-content p {
            font-size: 0.9em;
            color: #555;
            margin-bottom: 8px;
        }

        .score-range {
            font-size: 0.8em;
            color: #777;
            font-style: italic;
        }

        .user-result-display {
            text-align: center;
            margin-top: 15px;
            padding: 10px;
            background: rgba(102, 126, 234, 0.1);
            border-radius: 8px;
        }

        .result-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            color: #667eea;
        }

        /* æ§åˆ¶é¢æ¿ */
        .control-panel {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .score-controls {
            display: flex;
            gap: 30px;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
        }

        .score-control {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .score-control label {
            font-weight: 600;
            color: #2c3e50;
        }

        .score-control input {
            width: 200px;
            height: 40px;
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 0 15px;
            font-size: 1.1em;
            text-align: center;
        }

        .score-display {
            font-size: 1.2em;
            font-weight: bold;
            color: #667eea;
        }

        @media (max-width: 768px) {
            .comparison-grid {
                grid-template-columns: 1fr;
            }
            
            .score-controls {
                flex-direction: column;
                gap: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ å››è±¡é™å›¾å®ç°æ–¹æ¡ˆå¯¹æ¯”</h1>
            <p>ECRä¾æ‹ç±»å‹å››è±¡é™å›¾çš„å››ç§ä¸åŒå®ç°æ–¹å¼</p>
        </div>

        <!-- æ§åˆ¶é¢æ¿ -->
        <div class="control-panel">
            <div class="score-controls">
                <div class="score-control">
                    <label for="anxietyScore">ä¾æ‹ç„¦è™‘å¾—åˆ†</label>
                    <input type="range" id="anxietyScore" min="1" max="7" step="0.1" value="3.2">
                    <div class="score-display" id="anxietyDisplay">3.2</div>
                </div>
                <div class="score-control">
                    <label for="avoidanceScore">ä¾æ‹å›é¿å¾—åˆ†</label>
                    <input type="range" id="avoidanceScore" min="1" max="7" step="0.1" value="2.8">
                    <div class="score-display" id="avoidanceDisplay">2.8</div>
                </div>
            </div>
        </div>

        <div class="comparison-grid">
            <!-- æ–¹æ¡ˆ1: CSS Gridå¸ƒå±€ -->
            <div class="method-card">
                <div class="method-title">
                    <span>ğŸ¨</span> æ–¹æ¡ˆ1: CSS Gridå¸ƒå±€
                </div>
                <div class="method-description">
                    ä½¿ç”¨CSS Gridåˆ›å»ºé™æ€å››è±¡é™å¸ƒå±€ï¼Œç›´è§‚å±•ç¤ºå››ç§ä¾æ‹ç±»å‹ç‰¹å¾ã€‚ä¼˜ç‚¹ï¼šç®€å•ç›´è§‚ã€å“åº”å¼å¥½ã€æ— ä¾èµ–ã€‚
                </div>
                
                <div class="quadrant-grid" id="gridQuadrant">
                    <div class="quadrant quadrant-secure" data-type="secure">
                        <div class="quadrant-icon">ğŸ›¡ï¸</div>
                        <div class="quadrant-title">å®‰å…¨å‹</div>
                        <div class="quadrant-desc">ä½ç„¦è™‘ + ä½å›é¿</div>
                        <div class="quadrant-features">
                            å…³ç³»ç¨³å®šå’Œè°<br>
                            æƒ…æ„Ÿè¡¨è¾¾è‡ªç„¶<br>
                            ä¿¡ä»»ä¼´ä¾£
                        </div>
                    </div>
                    
                    <div class="quadrant quadrant-anxious" data-type="anxious">
                        <div class="quadrant-icon">ğŸ’”</div>
                        <div class="quadrant-title">ç„¦è™‘å‹</div>
                        <div class="quadrant-desc">é«˜ç„¦è™‘ + ä½å›é¿</div>
                        <div class="quadrant-features">
                            æ‹…å¿ƒè¢«æŠ›å¼ƒ<br>
                            éœ€è¦é¢‘ç¹ç¡®è®¤<br>
                            æƒ…æ„Ÿä¾èµ–å¼º
                        </div>
                    </div>
                    
                    <div class="quadrant quadrant-avoidant" data-type="avoidant">
                        <div class="quadrant-icon">ğŸšª</div>
                        <div class="quadrant-title">å›é¿å‹</div>
                        <div class="quadrant-desc">ä½ç„¦è™‘ + é«˜å›é¿</div>
                        <div class="quadrant-features">
                            ä¿æŒæƒ…æ„Ÿè·ç¦»<br>
                            ç‹¬ç«‹æ€§å¼º<br>
                            ä¸æ˜“äº²å¯†
                        </div>
                    </div>
                    
                    <div class="quadrant quadrant-chaotic" data-type="chaotic">
                        <div class="quadrant-icon">ğŸŒªï¸</div>
                        <div class="quadrant-title">æ··ä¹±å‹</div>
                        <div class="quadrant-desc">é«˜ç„¦è™‘ + é«˜å›é¿</div>
                        <div class="quadrant-features">
                            æƒ…æ„ŸçŸ›ç›¾<br>
                            å…³ç³»ä¸ç¨³å®š<br>
                            è¡Œä¸ºä¸ä¸€è‡´
                        </div>
                    </div>
                </div>
            </div>

            <!-- æ–¹æ¡ˆ2: SVGç»˜åˆ¶ -->
            <div class="method-card">
                <div class="method-title">
                    <span>ğŸ“</span> æ–¹æ¡ˆ2: SVGçŸ¢é‡å›¾
                </div>
                <div class="method-description">
                    ä½¿ç”¨SVGåˆ›å»ºç²¾ç¡®çš„åæ ‡ç³»ç»Ÿï¼Œæ”¯æŒçŸ¢é‡ç¼©æ”¾å’ŒåŠ¨ç”»æ•ˆæœã€‚ä¼˜ç‚¹ï¼šçŸ¢é‡å›¾å½¢ã€å¯ç¼©æ”¾ã€æ”¯æŒåŠ¨ç”»ã€‚
                </div>
                
                <div class="quadrant-svg-container">
                    <svg width="100%" height="100%" viewBox="0 0 400 300" class="quadrant-svg" id="svgQuadrant">
                        <!-- èƒŒæ™¯è±¡é™ -->
                        <rect x="0" y="0" width="200" height="150" fill="#d4edda" opacity="0.6"/>
                        <rect x="200" y="0" width="200" height="150" fill="#fff3cd" opacity="0.6"/>
                        <rect x="0" y="150" width="200" height="150" fill="#d1ecf1" opacity="0.6"/>
                        <rect x="200" y="150" width="200" height="150" fill="#e2d9f3" opacity="0.6"/>
                        
                        <!-- åæ ‡è½´ -->
                        <line x1="200" y1="0" x2="200" y2="300" stroke="#666" stroke-width="2"/>
                        <line x1="0" y1="150" x2="400" y2="150" stroke="#666" stroke-width="2"/>
                        
                        <!-- è±¡é™æ ‡ç­¾ -->
                        <text x="100" y="25" text-anchor="middle" class="quadrant-label">ğŸ›¡ï¸ å®‰å…¨å‹</text>
                        <text x="300" y="25" text-anchor="middle" class="quadrant-label">ğŸ’” ç„¦è™‘å‹</text>
                        <text x="100" y="280" text-anchor="middle" class="quadrant-label">ğŸšª å›é¿å‹</text>
                        <text x="300" y="280" text-anchor="middle" class="quadrant-label">ğŸŒªï¸ æ··ä¹±å‹</text>
                        
                        <!-- ç”¨æˆ·ä½ç½®ç‚¹ -->
                        <circle id="userPointSVG" cx="200" cy="150" r="8" fill="#667eea" stroke="#fff" stroke-width="3">
                            <animate attributeName="r" values="8;12;8" dur="2s" repeatCount="indefinite"/>
                        </circle>
                        
                        <!-- åæ ‡è½´æ ‡ç­¾ -->
                        <text x="380" y="145" class="axis-label">å›é¿ç¨‹åº¦ â†’</text>
                        <text x="10" y="15" class="axis-label">ç„¦è™‘ç¨‹åº¦ â†‘</text>
                    </svg>
                </div>
            </div>
        </div>

        <div class="comparison-grid">
            <!-- æ–¹æ¡ˆ3: Canvasç»˜åˆ¶ -->
            <div class="method-card">
                <div class="method-title">
                    <span>ğŸ®</span> æ–¹æ¡ˆ3: CanvasåŠ¨æ€ç»˜åˆ¶
                </div>
                <div class="method-description">
                    ä½¿ç”¨Canvas APIåˆ›å»ºé«˜æ€§èƒ½çš„åŠ¨æ€å›¾å½¢ï¼Œæ”¯æŒå¤æ‚åŠ¨ç”»å’Œäº¤äº’æ•ˆæœã€‚ä¼˜ç‚¹ï¼šé«˜æ€§èƒ½ã€åŠ¨ç”»ä¸°å¯Œã€å®Œå…¨è‡ªå®šä¹‰ã€‚
                </div>

                <canvas id="quadrantCanvas" class="quadrant-canvas" width="400" height="300"></canvas>
            </div>

            <!-- æ–¹æ¡ˆ4: äº¤äº’å¼HTML -->
            <div class="method-card">
                <div class="method-title">
                    <span>ğŸª</span> æ–¹æ¡ˆ4: äº¤äº’å¼HTML
                </div>
                <div class="method-description">
                    ä½¿ç”¨HTMLå’ŒCSSåˆ›å»ºç”¨æˆ·å‹å¥½çš„äº¤äº’å¼å››è±¡é™ã€‚ä¼˜ç‚¹ï¼šç”¨æˆ·å‹å¥½ã€æ˜“äºç†è§£ã€å¯è®¿é—®æ€§å¥½ã€‚
                </div>

                <div class="interactive-quadrant">
                    <div class="quadrant-wrapper" id="interactiveQuadrant">
                        <div class="quadrant-item secure" data-type="secure">
                            <div class="quadrant-content">
                                <h4>ğŸ›¡ï¸ å®‰å…¨å‹</h4>
                                <p>ç¨³å®šå’Œè°çš„å…³ç³»æ¨¡å¼</p>
                                <div class="score-range">ç„¦è™‘: 1-4, å›é¿: 1-4</div>
                            </div>
                        </div>

                        <div class="quadrant-item anxious" data-type="anxious">
                            <div class="quadrant-content">
                                <h4>ğŸ’” ç„¦è™‘å‹</h4>
                                <p>æ¸´æœ›äº²å¯†ä½†æ‹…å¿ƒå¤±å»</p>
                                <div class="score-range">ç„¦è™‘: 4-7, å›é¿: 1-4</div>
                            </div>
                        </div>

                        <div class="quadrant-item avoidant" data-type="avoidant">
                            <div class="quadrant-content">
                                <h4>ğŸšª å›é¿å‹</h4>
                                <p>ç‹¬ç«‹ä½†éš¾ä»¥å»ºç«‹äº²å¯†</p>
                                <div class="score-range">ç„¦è™‘: 1-4, å›é¿: 4-7</div>
                            </div>
                        </div>

                        <div class="quadrant-item chaotic" data-type="chaotic">
                            <div class="quadrant-content">
                                <h4>ğŸŒªï¸ æ··ä¹±å‹</h4>
                                <p>çŸ›ç›¾å¤æ‚çš„æƒ…æ„Ÿæ¨¡å¼</p>
                                <div class="score-range">ç„¦è™‘: 4-7, å›é¿: 4-7</div>
                            </div>
                        </div>
                    </div>

                    <div class="user-result-display">
                        <div class="result-badge">
                            <span class="badge-icon">â­</span>
                            <span class="badge-text" id="userTypeDisplay">æ‚¨çš„ç±»å‹: å®‰å…¨å‹</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let currentScores = {
            anxiety: 3.2,
            avoidance: 2.8
        };

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initializeControls();
            updateAllQuadrants();
        });

        // åˆå§‹åŒ–æ§åˆ¶é¢æ¿
        function initializeControls() {
            const anxietySlider = document.getElementById('anxietyScore');
            const avoidanceSlider = document.getElementById('avoidanceScore');
            const anxietyDisplay = document.getElementById('anxietyDisplay');
            const avoidanceDisplay = document.getElementById('avoidanceDisplay');

            anxietySlider.addEventListener('input', function() {
                currentScores.anxiety = parseFloat(this.value);
                anxietyDisplay.textContent = this.value;
                updateAllQuadrants();
            });

            avoidanceSlider.addEventListener('input', function() {
                currentScores.avoidance = parseFloat(this.value);
                avoidanceDisplay.textContent = this.value;
                updateAllQuadrants();
            });
        }

        // ç¡®å®šä¾æ‹ç±»å‹
        function getAttachmentType(anxiety, avoidance) {
            if (anxiety < 4 && avoidance < 4) return 'secure';
            if (anxiety >= 4 && avoidance < 4) return 'anxious';
            if (anxiety < 4 && avoidance >= 4) return 'avoidant';
            return 'chaotic';
        }

        // è·å–ç±»å‹ä¸­æ–‡åç§°
        function getTypeName(type) {
            const names = {
                'secure': 'å®‰å…¨å‹',
                'anxious': 'ç„¦è™‘å‹',
                'avoidant': 'å›é¿å‹',
                'chaotic': 'æ··ä¹±å‹'
            };
            return names[type] || 'æœªçŸ¥ç±»å‹';
        }

        // æ›´æ–°æ‰€æœ‰å››è±¡é™æ˜¾ç¤º
        function updateAllQuadrants() {
            const userType = getAttachmentType(currentScores.anxiety, currentScores.avoidance);

            updateGridQuadrant(userType);
            updateSVGQuadrant();
            updateCanvasQuadrant();
            updateInteractiveQuadrant(userType);
        }

        // æ–¹æ¡ˆ1: æ›´æ–°CSS Gridå››è±¡é™
        function updateGridQuadrant(userType) {
            const quadrants = document.querySelectorAll('#gridQuadrant .quadrant');
            quadrants.forEach(q => q.classList.remove('active'));

            const activeQuadrant = document.querySelector(`#gridQuadrant [data-type="${userType}"]`);
            if (activeQuadrant) {
                activeQuadrant.classList.add('active');
            }
        }

        // æ–¹æ¡ˆ2: æ›´æ–°SVGå››è±¡é™
        function updateSVGQuadrant() {
            const userPoint = document.getElementById('userPointSVG');
            if (userPoint) {
                const x = (currentScores.avoidance / 7) * 400;
                const y = 300 - (currentScores.anxiety / 7) * 300;
                userPoint.setAttribute('cx', x);
                userPoint.setAttribute('cy', y);
            }
        }

        // æ–¹æ¡ˆ3: Canvasç»˜åˆ¶å››è±¡é™
        function updateCanvasQuadrant() {
            const canvas = document.getElementById('quadrantCanvas');
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;

            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, width, height);

            // ç»˜åˆ¶è±¡é™èƒŒæ™¯
            const quadrants = [
                { x: 0, y: 0, color: '#d4edda', label: 'ğŸ›¡ï¸ å®‰å…¨å‹' },
                { x: 200, y: 0, color: '#fff3cd', label: 'ğŸ’” ç„¦è™‘å‹' },
                { x: 0, y: 150, color: '#d1ecf1', label: 'ğŸšª å›é¿å‹' },
                { x: 200, y: 150, color: '#e2d9f3', label: 'ğŸŒªï¸ æ··ä¹±å‹' }
            ];

            quadrants.forEach(quad => {
                ctx.fillStyle = quad.color;
                ctx.globalAlpha = 0.6;
                ctx.fillRect(quad.x, quad.y, 200, 150);

                // ç»˜åˆ¶æ ‡ç­¾
                ctx.globalAlpha = 1;
                ctx.fillStyle = '#333';
                ctx.font = 'bold 14px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(quad.label, quad.x + 100, quad.y + 25);
            });

            // ç»˜åˆ¶åæ ‡è½´
            ctx.strokeStyle = '#666';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(200, 0);
            ctx.lineTo(200, 300);
            ctx.moveTo(0, 150);
            ctx.lineTo(400, 150);
            ctx.stroke();

            // ç»˜åˆ¶åæ ‡è½´æ ‡ç­¾
            ctx.fillStyle = '#666';
            ctx.font = '12px Arial';
            ctx.textAlign = 'right';
            ctx.fillText('å›é¿ç¨‹åº¦ â†’', 390, 145);
            ctx.textAlign = 'left';
            ctx.fillText('ç„¦è™‘ç¨‹åº¦ â†‘', 10, 15);

            // ç»˜åˆ¶ç”¨æˆ·ä½ç½®
            const userX = (currentScores.avoidance / 7) * 400;
            const userY = 300 - (currentScores.anxiety / 7) * 300;

            // ç»˜åˆ¶è„‰åŠ¨æ•ˆæœ
            ctx.fillStyle = 'rgba(102, 126, 234, 0.3)';
            ctx.beginPath();
            ctx.arc(userX, userY, 15, 0, 2 * Math.PI);
            ctx.fill();

            // ç»˜åˆ¶ä¸»åœ†ç‚¹
            ctx.fillStyle = '#667eea';
            ctx.strokeStyle = '#fff';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.arc(userX, userY, 8, 0, 2 * Math.PI);
            ctx.fill();
            ctx.stroke();
        }

        // æ–¹æ¡ˆ4: æ›´æ–°äº¤äº’å¼HTMLå››è±¡é™
        function updateInteractiveQuadrant(userType) {
            const quadrants = document.querySelectorAll('#interactiveQuadrant .quadrant-item');
            quadrants.forEach(q => q.classList.remove('active'));

            const activeQuadrant = document.querySelector(`#interactiveQuadrant [data-type="${userType}"]`);
            if (activeQuadrant) {
                activeQuadrant.classList.add('active');
            }

            // æ›´æ–°ç±»å‹æ˜¾ç¤º
            const typeDisplay = document.getElementById('userTypeDisplay');
            if (typeDisplay) {
                typeDisplay.textContent = `æ‚¨çš„ç±»å‹: ${getTypeName(userType)}`;
            }
        }

        // æ·»åŠ CanvasåŠ¨ç”»æ•ˆæœ
        let animationId;
        function startCanvasAnimation() {
            let pulseRadius = 15;
            let growing = true;

            function animate() {
                updateCanvasQuadrant();

                const canvas = document.getElementById('quadrantCanvas');
                const ctx = canvas.getContext('2d');
                const userX = (currentScores.avoidance / 7) * 400;
                const userY = 300 - (currentScores.anxiety / 7) * 300;

                // ç»˜åˆ¶åŠ¨æ€è„‰åŠ¨æ•ˆæœ
                ctx.fillStyle = `rgba(102, 126, 234, ${0.3 - (pulseRadius - 15) * 0.02})`;
                ctx.beginPath();
                ctx.arc(userX, userY, pulseRadius, 0, 2 * Math.PI);
                ctx.fill();

                // æ›´æ–°è„‰åŠ¨åŠå¾„
                if (growing) {
                    pulseRadius += 0.5;
                    if (pulseRadius >= 25) growing = false;
                } else {
                    pulseRadius -= 0.5;
                    if (pulseRadius <= 15) growing = true;
                }

                animationId = requestAnimationFrame(animate);
            }

            animate();
        }

        // å¯åŠ¨CanvasåŠ¨ç”»
        setTimeout(startCanvasAnimation, 1000);
    </script>
</body>
</html>
