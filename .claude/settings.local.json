{
  "permissions": {
    "allow": [
      "Bash(grep -n \"paymentLinkBase\\|successUrl\\|cancelUrl\" index.html)",
      "Bash(grep:*)",
      "Bash(sed:*)",
      "Bash(open:*)",
      "Bash(rg:*)",
      "Bash(mkdir:*)",
      "Bash(git checkout:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(cp:*)",
      "Bash(npm run type-check:*)",
      "Bash(npm run build:*)",
      "Bash(find:*)",
      "Bash(npm run dev:*)",
      "Bash(ls:*)",
      "Bash(curl:*)",
      "Bash(npm install:*)",
      "Bash(vercel dev:*)",
      "Bash(rm:*)",
      "Bash(pkill:*)",
      "Bash(true)",
      "Bash(vercel:*)",
      "mcp__playwright__browser_navigate",
      "mcp__playwright__browser_click",
      "mcp__playwright__browser_wait_for",
      "mcp__playwright__browser_close",
      "Bash(echo $VITE_API_BASE_URL)",
      "mcp__playwright__browser_evaluate",
      "mcp__playwright__browser_console_messages",
      "mcp__playwright__browser_snapshot",
      "Bash(cat:*)",
      "Bash(git push:*)",
      "Bash(for file in *.ts)",
      "Bash(do mv \"$file\" \"$file%.ts.cjs\")",
      "Bash(done)",
      "mcp__playwright__browser_install",
      "Bash(npm ls:*)",
      "Bash(node:*)",
      "Bash(mv:*)",
      "Bash(git config:*)",
      "Bash(ssh:*)",
      "WebFetch(domain:vercel.com)",
      "mcp__playwright__browser_type",
      "Bash(kill:*)",
      "Bash(#!/bin/bash\n\necho \"\"ğŸ”„ å¼€å§‹å®Œæ•´æ”¯ä»˜æµç¨‹æµ‹è¯•...\"\"\n\n# æ­¥éª¤1: åˆ›å»ºæ”¯ä»˜ä¼šè¯\necho \"\"æ­¥éª¤1: åˆ›å»ºæ”¯ä»˜ä¼šè¯\"\"\nCREATE_RESPONSE=$(curl -s -X POST http://localhost:3001/api/create-payment \\\n  -H \"\"Content-Type: application/json\"\" \\\n  -d ''{\n    \"\"assessmentId\"\": \"\"ecr_complete_flow_test_''$(date +%s)''\"\",\n    \"\"successUrl\"\": \"\"https://ecr-kappa.vercel.app/payment-success\"\",\n    \"\"cancelUrl\"\": \"\"https://ecr-kappa.vercel.app/payment-cancel\"\"\n  }'')\n\necho \"\"åˆ›å»ºæ”¯ä»˜ä¼šè¯å“åº”: $CREATE_RESPONSE\"\"\n\n# æå–sessionId\nSESSION_ID=$(echo $CREATE_RESPONSE | grep -o ''\"\"stripeSessionId\"\":\"\"[^\"\"]*'' | cut -d''\"\"'' -f4)\necho \"\"æå–åˆ°çš„Session ID: $SESSION_ID\"\"\n\nif [ -z \"\"$SESSION_ID\"\" ]; then\n  echo \"\"âŒ åˆ›å»ºæ”¯ä»˜ä¼šè¯å¤±è´¥\"\"\n  exit 1\nfi\n\necho \"\"âœ… æ”¯ä»˜ä¼šè¯åˆ›å»ºæˆåŠŸ: $SESSION_ID\"\"\n\n# æ­¥éª¤2: æ¨¡æ‹Ÿç”¨æˆ·æ”¯ä»˜å»¶è¿Ÿ\necho \"\"æ­¥éª¤2: æ¨¡æ‹Ÿç”¨æˆ·æ”¯ä»˜è¿‡ç¨‹...\"\"\nsleep 2\n\n# æ­¥éª¤3: éªŒè¯æ”¯ä»˜\necho \"\"æ­¥éª¤3: éªŒè¯æ”¯ä»˜ç»“æœ\"\"\nVERIFY_RESPONSE=$(curl -s -X POST http://localhost:3001/api/verify-payment \\\n  -H \"\"Content-Type: application/json\"\" \\\n  -d \"\"{\\\"\"sessionId\\\"\": \\\"\"$SESSION_ID\\\"\"}\"\")\n\necho \"\"æ”¯ä»˜éªŒè¯å“åº”: $VERIFY_RESPONSE\"\"\n\n# æ£€æŸ¥éªŒè¯ç»“æœ\nSUCCESS=$(echo $VERIFY_RESPONSE | grep -o ''\"\"success\"\":true'')\nif [ -n \"\"$SUCCESS\"\" ]; then\n  echo \"\"ğŸ‰ å®Œæ•´æ”¯ä»˜æµç¨‹æµ‹è¯•æˆåŠŸï¼æ‰€æœ‰æ­¥éª¤éƒ½æ­£å¸¸å·¥ä½œã€‚\"\"\nelse\n  echo \"\"âŒ æ”¯ä»˜éªŒè¯å¤±è´¥\"\"\n  exit 1\nfi)",
      "Bash(npm cache clean:*)",
      "Bash(npx tsc:*)",
      "Bash(npm run lint)",
      "Bash(timeout 10s npm run dev)",
      "Bash(npm run preview:*)",
      "Bash(npx vue-tsc:*)",
      "Bash(xmllint:*)",
      "Bash(git remote set-url:*)",
      "Bash(git pull:*)"
    ],
    "deny": []
  }
}